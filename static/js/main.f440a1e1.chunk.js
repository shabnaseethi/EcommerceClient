(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c,r,a,i=n(0),s=n(43),o=n.n(s),u=n(7),d=n(14),j=n(6),l=n(19),b=n(3),O=n(8),h=n(15),p=n(81),f={cartList:[],cartCount:0,productData:[],itemsToBuy:[{}],user:JSON.parse(localStorage.getItem("user"))},m=p.a.create({withCredentials:!0}),x=Object(d.b)("cart/fetchCart",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("/cart/".concat(t.id),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(d.b)("cart/fetchData",Object(O.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products").then((function(e){return e.json()})).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),v=Object(d.b)("cart/addToCart",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("/addCart",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(d.b)("cart/incrementCart",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("/increment",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=Object(d.b)("cart/decrementCart",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("/decrement",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(d.b)("cart/removeCart",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("/remove",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(d.b)("cart/deleteCart",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.delete("/deletecart/".concat(t.id)).catch((function(e){return console.log(e.message)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(d.c)({name:"cart",initialState:f,reducers:{},extraReducers:(c={},Object(j.a)(c,g.pending,(function(e,t){})),Object(j.a)(c,g.fulfilled,(function(e,t){e.productData=t.payload})),Object(j.a)(c,g.rejected,(function(e,t){})),Object(j.a)(c,x.pending,(function(e,t){console.log("Loading")})),Object(j.a)(c,x.fulfilled,(function(e,t){e.cartList=t.payload})),Object(j.a)(c,x.rejected,(function(e,t){console.log("Rejected")})),Object(j.a)(c,v.pending,(function(e,t){console.log("Loading")})),Object(j.a)(c,v.fulfilled,(function(e,t){e.cartList.find((function(e){return e.product_id===t.payload.product_id}))?e.cartList.forEach((function(e){e.product_id===t.payload.product_id&&(e.count=1)})):(e.cartList.push(Object(l.a)({},t.payload)),h.b.success("".concat(t.payload.name," is added to the cart")))})),Object(j.a)(c,v.rejected,(function(e,t){})),Object(j.a)(c,y.pending,(function(e,t){})),Object(j.a)(c,y.fulfilled,(function(e,t){var n=t.payload.product_id;e.cartList.forEach((function(e){(null===e||void 0===e?void 0:e.product_id)===n&&e.count++}))})),Object(j.a)(c,y.rejected,(function(e,t){})),Object(j.a)(c,N.pending,(function(e,t){})),Object(j.a)(c,N.fulfilled,(function(e,t){var n=t.payload.product_id;e.cartList.forEach((function(e){(null===e||void 0===e?void 0:e.product_id)===n&&e.count--}))})),Object(j.a)(c,N.rejected,(function(e,t){})),Object(j.a)(c,S.pending,(function(e,t){})),Object(j.a)(c,S.fulfilled,(function(e,t){e.cartList=[],h.b.warning("cart is cleared")})),Object(j.a)(c,S.rejected,(function(e,t){console.log("Deletecart rejected")})),Object(j.a)(c,w.pending,(function(e,t){})),Object(j.a)(c,w.fulfilled,(function(e,t){var n=e.cartList.filter((function(e){return e.product_id!==t.payload.product_id}));e.cartList=n,h.b.warning("One item is removed from the cart")})),Object(j.a)(c,w.rejected,(function(e,t){})),c)}).reducer,L=Object(d.c)({name:"user",initialState:{user:[],isLogged:!1},reducers:{addUser:function(e,t){e.user.push(t.payload)},loginStatus:function(e,t){e.isLogged=t.payload}}}),k=L.actions,T=k.addUser,P=k.loginStatus,_=L.reducer,I=Object(d.b)("auth/registerUser",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("/signup",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=Object(d.c)({name:"auth",initialState:{errors:[]},reducers:{},extraReducers:(r={},Object(j.a)(r,I.pending,(function(e,t){console.log("Loading")})),Object(j.a)(r,I.fulfilled,(function(e,t){Array.isArray(t.payload)&&t.payload.map((function(e){h.b.error(e.message)})),t.payload.isRegistered&&(e.registerStatus=!0,h.b.success("You are successfully registered"),h.b.success("Please Login..."))})),Object(j.a)(r,I.rejected,(function(e,t){console.log("Rejected")})),r)}).reducer,E=Object(d.b)("order/fetchOrder",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/order",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(d.b)("order/fetchAllOrder",function(){var e=Object(O.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/allorder",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(d.c)({name:"order",initialState:{orderList:[],allOrderList:[],orderStatus:!1,isOrdered:!1},reducers:{setOrderStatus:function(e,t){e.orderStatus=t.payload},setIsOrdered:function(e,t){e.isOrdered=t.payload}},extraReducers:(a={},Object(j.a)(a,E.pending,(function(e,t){console.log("Loading")})),Object(j.a)(a,E.fulfilled,(function(e,t){e.orderList=t.payload})),Object(j.a)(a,E.rejected,(function(e,t){console.log("Rejected")})),Object(j.a)(a,D.pending,(function(e,t){console.log("Loading")})),Object(j.a)(a,D.fulfilled,(function(e,t){e.allOrderList=t.payload})),Object(j.a)(a,D.rejected,(function(e,t){console.log("Rejected")})),a)}),J=R.reducer,A=R.actions,U=A.setOrderStatus,Y=A.setIsOrdered,q=Object(d.a)({reducer:{cart:C,user:_,auth:F,order:J},middleware:function(e){return e({serializableCheck:!1,devTools:!1})}}),B=(n(66),n(5)),H=n(13),G=(n(67),n(50)),M=n(48),Q=n(1),z=function(){var e=Object(u.c)((function(e){return e.cart})).cartList,t=Object(u.c)((function(e){return e.user})).isLogged,n=Object(B.n)(),c=Object(u.b)(),r={id:localStorage.getItem("user")},a=e.reduce((function(e,t){return e+t.count}),0),s=function(){var e=Object(O.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(P(e.loggedIn))}));case 2:localStorage.removeItem("user"),n("/login"),h.b.info("Successfully Loggedout!!!",{className:"toast-info"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){t&&c(x(r))}),[c,t]),Object(Q.jsx)("header",{className:"header-container",children:Object(Q.jsxs)("nav",{className:"nav-links",children:[Object(Q.jsx)("div",{className:"home-header",children:Object(Q.jsx)(H.b,{to:"/",className:"link",children:"Home"})}),Object(Q.jsx)("div",{className:"login-header",children:t?Object(Q.jsx)(H.b,{className:"link",onClick:s,children:"Logout"}):Object(Q.jsx)(H.b,{to:"/login",className:"link",children:"Login"})}),Object(Q.jsx)(H.b,{to:"/signup",className:"link register",children:"Register"}),Object(Q.jsxs)("div",{className:"right-header",children:[t?Object(Q.jsx)("div",{className:"cart-count-header",children:a}):Object(Q.jsx)("div",{className:"cart-count-header",children:"0"}),Object(Q.jsx)("div",{className:"cart-icon",children:Object(Q.jsx)(H.b,{to:"/shoppingcart",children:Object(Q.jsx)(G.a,{className:"fa-shopping-cart",icon:M.a})})})]})]})})},K=(n(71),function(){var e=Object(u.c)((function(e){return e.cart})).productData;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("div",{className:"all-products",children:null===e||void 0===e?void 0:e.map((function(e,t){return Object(Q.jsx)("section",{className:"product-container",children:Object(Q.jsx)(H.b,{to:"/products/".concat(null===e||void 0===e?void 0:e.id),state:{type:1},className:"product-link",children:Object(Q.jsxs)("div",{className:"main-container",children:[Object(Q.jsx)("div",{className:"image-container",children:Object(Q.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"pic"})}),Object(Q.jsx)("div",{className:"product-name",children:null===e||void 0===e?void 0:e.name})]},t)})},t)}))})})}),V=(n(72),n(73),function(){var e=Object(B.n)(),t=Object(u.c)((function(e){return e.user})).isLogged,n=Object(u.b)();Object(i.useEffect)((function(){var c=function(){var t=Object(O.a)(Object(b.a)().mark((function t(){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/dashboard",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){n(T(t.user)),n(P(t.loggedIn)),t.loggedIn||e("/login")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t||c()}),[n,t,e]);return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{className:"my-orders",children:Object(Q.jsx)("button",{onClick:function(){e("/orders")},children:"My Orders"})}),Object(Q.jsx)(K,{})]})}),W=function(){var e=Object(u.c)((function(e){return e.user})).isLogged;return Object(Q.jsx)(Q.Fragment,{children:e?Object(Q.jsx)(V,{}):Object(Q.jsxs)("section",{className:"product-list",children:[Object(Q.jsx)("div",{className:"banner-container"}),Object(Q.jsx)(K,{})]})})},X=n(9),Z=(n(41),function(e){var t=e.productID,n=e.cartCount,c=e.productPrice,r=Object(u.b)(),a={id:localStorage.getItem("user")};return Object(Q.jsxs)("div",{className:"after-cart",children:[Object(Q.jsx)("span",{className:"minus",onClick:function(){r(N({product_id:t,user_id:a.id,price:c}))},children:"-"}),Object(Q.jsx)("span",{className:"num",children:n}),Object(Q.jsx)("span",{className:"plus",onClick:function(){return function(e){r(y({product_id:e,user_id:a.id,price:c}))}(t)},children:"+"})]})});var $=function(e){var t=e.product,n={id:localStorage.getItem("user")},c=Object(u.c)((function(e){return e.user})).isLogged,r=Object(u.b)();return Object(Q.jsx)("div",{className:"before-cart",children:Object(Q.jsx)("button",{className:"add-cart-button",onClick:function(){return function(e){e.product.user_id=parseInt(n.id),c?r(v({product:e})):h.b.warning("Please Login.....")}({product:t})},children:"Add to Cart"})})},ee=function(e){var t=e.product,n=Object(u.c)((function(e){return e.cart})).cartList,c=Object(i.useMemo)((function(){var e;return null===(e=n.find((function(e){return e.product_id===t.id})))||void 0===e?void 0:e.count}),[n,t.id]);return Object(Q.jsx)(Q.Fragment,{children:c>0?Object(Q.jsx)(Z,{productID:null===t||void 0===t?void 0:t.id,cartCount:c,productPrice:null===t||void 0===t?void 0:t.price}):Object(Q.jsx)($,{product:t})})},te=(n(74),function(){var e=Object(u.c)((function(e){return e.cart})).cartList,t=Object(B.p)().id,n=Object(i.useState)({}),c=Object(X.a)(n,2),r=c[0],a=c[1],s=Object(i.useState)(!1),o=Object(X.a)(s,2),d=o[0],j=o[1];Object(i.useEffect)((function(){function e(){return(e=Object(O.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products/".concat(t)).then((function(e){return e.json()})).then((function(e){return a(e.data[0])}));case 2:j(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var l=1;return e.map((function(e,t){return l=e.count})),Object(Q.jsx)("section",{className:"product-info",children:d&&Object(Q.jsxs)("div",{className:"product-details",children:[Object(Q.jsxs)("div",{className:"product-image",children:[Object(Q.jsx)("img",{src:r.image,alt:"productimage"}),Object(Q.jsxs)("div",{className:"product-rating",children:[r.review,Object(Q.jsx)("span",{className:"fa fa-star"})]})]}),Object(Q.jsx)("div",{className:"product-title",children:Object(Q.jsx)("h3",{children:r.name})}),Object(Q.jsx)("div",{className:"product-description",children:r.description}),Object(Q.jsxs)("div",{className:"product-price",children:["\xa3",l>0?(r.price*l).toFixed(2):r.price]}),Object(Q.jsx)(ee,{product:r})]})})});n(75);var ne=function(){var e=Object(u.b)(),t=Object(i.useState)({}),n=Object(X.a)(t,2),c=n[0],r=n[1],a=Object(B.n)(),s=function(e){var t=e.target,n=t.name,a=t.value;r(Object(l.a)(Object(l.a)({},c),{},Object(j.a)({},n,a)))},o=function(){var t=Object(O.a)(Object(b.a)().mark((function t(n){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,fetch("http://localhost:5000/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){if(t.loggedIn){e(P(t.loggedIn));var n={id:t.id,email:t.username,first_name:t.first_name,last_name:t.last_name};localStorage.setItem("user",JSON.stringify(n.id)),e(T(t)),a("/")}else h.b.error(t.status)}));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return");case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){var t=function(){var t=Object(O.a)(Object(b.a)().mark((function t(){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/login",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.loggedIn?(e(P(t.loggedIn)),a("/")):h.b.error(t.status)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[a,e]),Object(Q.jsx)("div",{className:"login-container",children:Object(Q.jsxs)("div",{className:"login-card",children:[Object(Q.jsx)("h2",{children:"Login"}),Object(Q.jsxs)("form",{id:"login-form",method:"POST",action:"login",onSubmit:o,children:[Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"email",id:"useremail",name:"email",placeholder:"Email Address",onChange:s,required:!0})}),Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"password",id:"userpassword",name:"password",placeholder:"Password",onChange:s,required:!0})}),Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"submit",className:"login",value:"Login"})})]}),Object(Q.jsx)("div",{className:"create-acc",children:Object(Q.jsxs)("p",{children:["Not a member??",Object(Q.jsx)(H.b,{to:"/signup",className:"signup_link",children:"SignUp"})]})})]})})},ce=(n(76),function(e){var t=e.cartList,n=e.totalCartCount,c=e.totalAmount,r=Object(u.b)(),a={id:localStorage.getItem("user")},i=function(){var e=Object(O.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})}).then((function(e){return e.json()})).then((function(e){e.url&&window.location.assign(e.url)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(O.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(S(a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Q.jsxs)("div",{className:"cart-body",children:[Object(Q.jsxs)("div",{className:"cart-list",children:[Object(Q.jsxs)("div",{className:"header",children:[Object(Q.jsx)("h3",{className:"heading",children:"Shopping Cart"}),Object(Q.jsx)("h5",{className:"action",onClick:s,children:"Remove all"})]}),t.map((function(e,t){return e.count>0?Object(Q.jsx)("div",{className:"cart-container",children:Object(Q.jsxs)("div",{className:"cart-items",children:[Object(Q.jsx)("div",{className:"image-box",children:Object(Q.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"product"})}),Object(Q.jsxs)("div",{className:"about",children:[Object(Q.jsx)("h1",{className:"title",children:e.name}),Object(Q.jsx)(Z,{productID:null===e||void 0===e?void 0:e.product_id,cartCount:null===e||void 0===e?void 0:e.count,productPrice:null===e||void 0===e?void 0:e.price})]}),Object(Q.jsxs)("div",{className:"prices",children:[Object(Q.jsxs)("div",{className:"amount",children:["\xa3",e.price*e.count]}),Object(Q.jsx)("div",{className:"remove",onClick:function(){return t=null===e||void 0===e?void 0:e.product_id,void r(w({product_id:t,customer_id:a.id}));var t},children:Object(Q.jsx)("u",{children:"Remove"})})]})]})},t):""}))]}),Object(Q.jsxs)("div",{className:"checkout",children:[Object(Q.jsxs)("div",{className:"total",children:["Basket Subtotal:",Object(Q.jsxs)("div",{className:"items",children:[n," items"]})]}),Object(Q.jsxs)("div",{className:"total-amount",children:["Amount:",Object(Q.jsxs)("h5",{children:[Object(Q.jsx)("sup",{children:"\xa3"}),c.toFixed(2)]})]}),Object(Q.jsx)("div",{className:"shipping-charge",children:"Free Delivery at checkout"}),Object(Q.jsx)("button",{className:"checkout-btn",onClick:i,children:"Proceed to Checkout"})]})]})}),re=function(){var e=Object(u.c)((function(e){return e.cart})).cartList,t=e.reduce((function(e,t){return e+t.count}),0),n=e.reduce((function(e,t){return e+t.price*t.count}),0);return Object(Q.jsx)("div",{className:"shopping",children:0===t?Object(Q.jsxs)("div",{className:"before-shopping",children:[Object(Q.jsx)("h4",{children:"Your Shopping Cart is empty"}),Object(Q.jsx)(H.b,{to:"/",children:Object(Q.jsx)("h5",{children:"Start shopping"})})]}):Object(Q.jsx)(ce,{cartList:e,totalCartCount:t,totalAmount:n})})};n(77);var ae=function(){var e=Object(u.c)((function(e){return e.auth})).registerStatus,t=Object(u.b)(),n=Object(i.useState)({firstname:"",lastname:"",email:"",password:"",confirmpassword:""}),c=Object(X.a)(n,2),r=c[0],a=c[1],s=Object(B.n)(),o=function(e){a(Object(l.a)(Object(l.a)({},r),{},Object(j.a)({},e.target.name,e.target.value)))},d=function(){var n=Object(O.a)(Object(b.a)().mark((function n(c){return Object(b.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c.preventDefault();try{t(I(r)),console.log(e),e&&(a({firstname:"",lastname:"",email:"",password:"",confirmpassword:""}),s("/login"))}catch(i){console.error(i.message)}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(Q.jsxs)("div",{className:"signup-card",children:[Object(Q.jsx)("h2",{children:"SignUp"}),Object(Q.jsxs)("form",{id:"signup-form",method:"POST",action:"signup",onSubmit:d,children:[Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"text",id:"firstname",name:"firstname",placeholder:"First Name",autoComplete:"off",value:r.firstname,onChange:o,required:!0})}),Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"text",id:"lastname",name:"lastname",placeholder:"Last Name",autoComplete:"off",value:r.lastname,onChange:o,required:!0})}),Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Email Address",value:r.email,onChange:o,autoComplete:"off",required:!0})}),Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Password",value:r.password,onChange:o,autoComplete:"on",required:!0})}),Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"password",id:"confirm-password",name:"confirmpassword",placeholder:"Confirm password",value:r.confirmpassword,onChange:o,autoComplete:"on",required:!0})}),Object(Q.jsx)("p",{children:Object(Q.jsx)("input",{type:"submit",className:"login",value:"SignUp"})})]})]})},ie=function(e){var t=e.isLogged,n=e.redirectPath,c=void 0===n?"/":n;return t?Object(Q.jsx)(B.b,{}):Object(Q.jsx)(B.a,{to:c,replace:!0})},se=(n(78),n(42),function(){var e=Object(u.c)((function(e){return e.order})).orderList,t=Object(u.b)(),n={id:localStorage.getItem("user")},c=e.reduce((function(e,t){return e+t.count}),0),r=e.reduce((function(e,t){return e+parseInt(t.price)}),0);return Object(i.useEffect)((function(){t(E(n))}),[]),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:"order-wrapper",children:[Object(Q.jsxs)("div",{className:"order-details",children:[" ",Object(Q.jsx)("h5",{children:"Your Last Order"}),Object(Q.jsx)(H.b,{to:"/order-history",children:Object(Q.jsx)("p",{children:"Order History"})})]}),e.length>0?Object(Q.jsx)("div",{className:"order-container",children:Object(Q.jsxs)("table",{children:[Object(Q.jsx)("thead",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("th",{children:"Order Details"}),Object(Q.jsx)("th",{children:"Price"}),Object(Q.jsx)("th",{children:"Quantity"}),Object(Q.jsx)("th",{children:"Purchased On"})]})}),e.map((function(e,t){return Object(Q.jsx)("tbody",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsxs)("td",{children:[Object(Q.jsx)("img",{src:e.image,alt:"order-product"}),Object(Q.jsxs)("p",{children:[e.name," "]})]}),Object(Q.jsxs)("td",{children:["\xa3",e.price]}),Object(Q.jsx)("td",{children:e.count}),Object(Q.jsx)("td",{children:e.ordered_on})]})},t)})),Object(Q.jsx)("tfoot",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("td",{children:"Total Amount"}),Object(Q.jsxs)("td",{children:["\xa3",r]}),Object(Q.jsx)("td",{children:c})]})})]})}):Object(Q.jsx)("h5",{children:"You dont have any orders yet!!!"})]})})}),oe=(n(79),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.order})).isOrdered,n=p.a.create({withCredentials:!0}),c=Object(u.c)((function(e){return e.user})).isLogged,r={id:localStorage.getItem("user")};return Object(i.useEffect)((function(){var c=new URLSearchParams(window.location.search).get("session_id"),a=function(){var t=Object(O.a)(Object(b.a)().mark((function t(){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.get("http://localhost:5000/success",{params:{session_id:c}}).then((function(t){e(P(t.data.data)),e(Y(t.data.data)),e(U(t.data.data))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();a(),t&&e(S(r))}),[t,r.id,e,n]),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("div",{className:"checkout-wrapper",children:t&&c?Object(Q.jsxs)("div",{className:"checkout-container",children:[Object(Q.jsx)("h3",{children:"Success"}),Object(Q.jsx)("h3",{children:"Your order has been placed!!!!!"}),Object(Q.jsx)("p",{children:"My orders"})]}):Object(Q.jsx)("h1",{children:"404!!!Page not Found"})})})}),ue=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.order})).isOrdered,n=p.a.create({withCredentials:!0});return Object(i.useEffect)((function(){e(P(!0));var t=new URLSearchParams(window.location.search).get("session_id"),c=function(){var c=Object(O.a)(Object(b.a)().mark((function c(){return Object(b.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n.get("http://localhost:5000/cancel",{params:{session_id:t}}).then((function(t){e(P(t.data.data)),e(Y(t.data.data)),e(U(t.data.data))}));case 2:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();c()}),[e,n]),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("div",{className:"checkout-wrapper",children:t?Object(Q.jsxs)("div",{className:"checkout-container",children:[Object(Q.jsx)("h2",{children:"Failed"}),Object(Q.jsx)("h2",{children:"Your order has not been placed!!!!!"}),Object(Q.jsx)("h4",{children:"Please try again!!!!"})]}):Object(Q.jsx)("h1",{children:"404!!!Page not Found"})})})},de=function(){var e=Object(u.c)((function(e){return e.order})).allOrderList,t=Object(u.b)(),n={id:localStorage.getItem("user")};return Object(i.useEffect)((function(){t(D(n))}),[]),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:"order-wrapper",children:[Object(Q.jsx)("h5",{children:"Your Order History"}),e.length>0?Object(Q.jsx)("div",{className:"order-container",children:Object(Q.jsxs)("table",{children:[Object(Q.jsx)("thead",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("th",{children:"Order Details"}),Object(Q.jsx)("th",{children:"Price"}),Object(Q.jsx)("th",{children:"Quantity"}),Object(Q.jsx)("th",{children:"Purchased On"})]})}),e.map((function(e,t){return Object(Q.jsx)("tbody",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsxs)("td",{children:[Object(Q.jsx)("img",{src:e.image,alt:"order_image"}),Object(Q.jsxs)("p",{children:[e.name," "]})]}),Object(Q.jsxs)("td",{children:["\xa3",e.price]}),Object(Q.jsx)("td",{children:e.count}),Object(Q.jsx)("td",{children:e.ordered_on})]})},t)}))]})}):Object(Q.jsx)("h5",{children:"You dont have any orders yet!!!"})]})})},je=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user})).isLogged;return Object(i.useEffect)((function(){e(g())}),[e]),Object(Q.jsxs)("div",{className:"App",children:[Object(Q.jsxs)(H.a,{children:[Object(Q.jsx)(z,{}),Object(Q.jsxs)(B.e,{children:[Object(Q.jsx)(B.c,{path:"/",exact:!0,element:Object(Q.jsx)(W,{})}),Object(Q.jsx)(B.c,{path:"/products/:id",exact:!0,element:Object(Q.jsx)(te,{})}),Object(Q.jsx)(B.c,{path:"/signup",exact:!0,element:Object(Q.jsx)(ae,{})}),Object(Q.jsx)(B.c,{path:"/login",exact:!0,element:Object(Q.jsx)(ne,{})}),Object(Q.jsxs)(B.c,{element:Object(Q.jsx)(ie,{isLogged:t}),children:[Object(Q.jsx)(B.c,{path:"/shoppingcart",exact:!0,element:Object(Q.jsx)(re,{})}),Object(Q.jsx)(B.c,{path:"/orders",exact:!0,element:Object(Q.jsx)(se,{})}),Object(Q.jsx)(B.c,{path:"/orders",exact:!0,element:Object(Q.jsx)(se,{})}),Object(Q.jsx)(B.c,{path:"/order-history",exact:!0,element:Object(Q.jsx)(de,{})})]}),Object(Q.jsx)(B.c,{path:"/success",element:Object(Q.jsx)(oe,{})}),Object(Q.jsx)(B.c,{path:"/failed",element:Object(Q.jsx)(ue,{})})]})]}),Object(Q.jsx)(h.a,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},be=n(49);Object(be.a)(),o.a.createRoot(document.getElementById("root")).render(Object(Q.jsxs)(u.a,{store:q,children:[" ",Object(Q.jsx)(je,{})]})),le()}},[[80,1,2]]]);
//# sourceMappingURL=main.f440a1e1.chunk.js.map